server {
    listen 80;
    server_name localhost;
    root /usr/share/nginx/html;
    index index.html;

    # --- KOMMENTERA BORT DESSA TILLS TJÄNSTERNA ÄR UPPE ---

    # location /api/images {
    #    proxy_pass http://image-service:3000/api/images;
    #    ... (resten av configen)
    # }

    # location /api/search {
    #    proxy_pass http://search-service:8084/api/search;
    #    ...
    # }

    # location /api/messages {
    #    proxy_pass http://message-service:8083/api/messages;
    #    ...
    # }

    # --- BEHÅLL DESSA ---

    # Auth Service (Om den körs)
    location /api/auth {
        proxy_pass http://journal-system-auth:8081; # OBS: Dubbelkolla namnet i CBH!
        proxy_http_version 1.1;
        proxy_set_header Host $host;
    }

    # Patient Service (Denna körs väl?)
    location /api {
        proxy_pass http://journal-system-patient:8082; # OBS: Dubbelkolla namnet i CBH!
        proxy_http_version 1.1;
        proxy_set_header Host $host;
    }

    # React Router
    location / {
        try_files $uri $uri/ /index.html;
    }
}
